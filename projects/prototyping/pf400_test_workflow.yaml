name: PF400 Integration Test Workflow

metadata:
  author: Claude Code
  info: Comprehensive test workflow for PF400 Isaac Sim integration
  version: 1.0

steps:
  # # Initialize - move to safe high position via pick approach
  # - name: Initialize PF400 - Move to Safe Position
  #   node: pf400
  #   action: pick_plate
  #   locations:
  #     source: platform1
  #     source_approach: high_position

  # Test basic transfer with approach location
  - name: Transfer Plate from Platform1 to Platform2 (with approach)
    node: pf400
    action: transfer
    args:
      source_plate_rotation: "narrow"
      target_plate_rotation: "wide"
    locations:
      source: platform1
      target: platform2
      source_approach: approach_position
      target_approach: high_position

  # Test transfer back with different rotations
  - name: Transfer Plate from Platform2 to Platform1 (rotation test)
    node: pf400
    action: transfer
    args:
      source_plate_rotation: "wide"
      target_plate_rotation: "narrow"
    locations:
      source: platform2
      target: platform1
      source_approach: high_position
      target_approach: approach_position

  # Test pick and place separately
  - name: Pick Plate from Platform1
    node: pf400
    action: pick_plate
    locations:
      source: platform1
      source_approach: approach_position

  - name: Place Plate to Platform2
    node: pf400
    action: place_plate
    locations:
      target: platform2
      target_approach: high_position

  # Test lid operations
  - name: Remove Lid from Platform2 to High Position
    node: pf400
    action: remove_lid
    args:
      lid_height: 5.0
      source_plate_rotation: "narrow"
      target_plate_rotation: "wide"
    locations:
      source: platform2
      target: high_position
      source_approach: high_position
      target_approach: approach_position

  - name: Replace Lid from High Position to Platform1
    node: pf400
    action: replace_lid
    args:
      lid_height: 5.0
      source_plate_rotation: "wide"
      target_plate_rotation: "narrow"
    locations:
      source: high_position
      target: platform1
      source_approach: approach_position
      target_approach: high_position

  # Final test - comprehensive transfer
  - name: Final Transfer - Platform1 to Platform2
    node: pf400
    action: transfer
    locations:
      source: platform1
      target: platform2
      source_approach: high_position
      target_approach: approach_position
name: PF400 Integration Test Workflow

metadata:
  author: Claude Code
  info: Comprehensive test workflow for PF400 Isaac Sim integration
  version: 1.0

steps:
  # Test basic transfer with approach location
  - name: Transfer Plate from Side to Platform1 (with approach)
    node: pf400
    action: transfer
    args:
      source_plate_rotation: "narrow"
      target_plate_rotation: "wide"
    locations:
      source: side_position
      target: platform1
      source_approach: approach_position
      target_approach: high_position

  # Test transfer between platforms with rotations
  - name: Transfer Plate from Platform1 to Platform2 (rotation test)
    node: pf400
    action: transfer
    args:
      source_plate_rotation: "wide"
      target_plate_rotation: "narrow"
    locations:
      source: platform1
      target: platform2
      source_approach: high_position
      target_approach: high_position

  # Test pick and place separately
  - name: Pick Plate from Platform2
    node: pf400
    action: pick_plate
    locations:
      source: platform2
      source_approach: high_position

  - name: Place Plate to Side Position
    node: pf400
    action: place_plate
    locations:
      target: side_position
      target_approach: approach_position

  # Test lid operations
  - name: Remove Lid from Side Position to Platform1
    node: pf400
    action: remove_lid
    args:
      lid_height: 5.0
      source_plate_rotation: "narrow"
      target_plate_rotation: "wide"
    locations:
      source: side_position
      target: platform1
      source_approach: approach_position
      target_approach: high_position

  - name: Replace Lid from Platform1 to Side Position  
    node: pf400
    action: replace_lid
    args:
      lid_height: 5.0
      source_plate_rotation: "wide"
      target_plate_rotation: "narrow"
    locations:
      source: platform1
      target: side_position
      source_approach: high_position
      target_approach: approach_position

  # Final test - move plate back to original location
  - name: Final Transfer - Side to Platform2
    node: pf400
    action: transfer
    locations:
      source: side_position
      target: platform2
      source_approach: approach_position
      target_approach: high_position